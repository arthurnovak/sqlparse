{sub_dirs, ["rel"]}.

{deps, [
    {jpparse, "", {git, "https://github.com/K2InformaticsGmbH/jpparse.git", {tag, "1.3.0"}}},
    {covertool, "", {git, "https://github.com/idubrov/covertool.git", {branch, master}}}
]}.

%% It appears that nobody gives a shit about these validations, and we can't
%% make `rebar' compile only _this_ project with these option, so
%% `warning_as_errors' is turned off by default.
{erl_opts, [
%%     warnings_as_errors
warn_export_all,
warn_export_vars,
warn_untyped_record,
warn_obsolete_guard
]}.

{plugins, [rebar_covertool]}.

{eunit_opts, [verbose, {report,{eunit_surefire,[{dir,"."}]}}]}.
{ct_extra_params, "-ct_hooks cth_surefire -erl_args -config erl.config"}.

{cover_enabled, true}.
{cover_export_enabled, true}.
{cover_print_enabled, true}.
{covertool_eunit, {".eunit/cover.coverdata", "eunit.coverage.xml"}}.
{covertool_ct, {"ct.coverdata", "ct.coverage.xml"}}.
{covertool_prefix_len, 2}. % Optional: Use module prefix as (imaginary) package name
